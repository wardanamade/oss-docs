<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="Soal Sering Ditanya pada SSO Laravel - RistekUSDI">

        <meta property="og:site_name" content="SSO Laravel - RistekUSDI"/>
        <meta property="og:title" content="SSD - SSO Laravel - RistekUSDI | SSO Laravel - RistekUSDI"/>
        <meta property="og:description" content="Soal Sering Ditanya pada SSO Laravel - RistekUSDI"/>
        <meta property="og:url" content="https://ristekusdi.github.io/sso-laravel/docs/ssd"/>
        <meta property="og:image" content="/assets/img/logo.png"/>
        <meta property="og:type" content="website"/>

        <meta name="twitter:image:alt" content="SSO Laravel - RistekUSDI">
        <meta name="twitter:card" content="summary_large_image">

        
        <title>SSO Laravel - RistekUSDI | SSD - SSO Laravel - RistekUSDI</title>

        <link rel="home" href="https://ristekusdi.github.io/sso-laravel">
        <link rel="icon" href="https://ristekusdi.github.io/sso-laravel/favicon.ico">

        
                    <!-- Insert analytics code here -->
        
        <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i,800,800i" rel="stylesheet">
        <link rel="stylesheet" href="https://ristekusdi.github.io/sso-laravel/assets/build/css/main.css?id=375fde9df5b05c052b6c">

            </head>

    <body class="flex flex-col justify-between min-h-screen bg-gray-100 text-gray-800 leading-normal font-sans">
        <header class="flex items-center shadow bg-white border-b h-24 mb-8 py-4" role="banner">
            <div class="container flex items-center max-w-8xl mx-auto px-4 lg:px-8">
                <div class="flex items-center">
                    <a href="/" title="SSO Laravel - RistekUSDI home" class="inline-flex items-center">
                        <img class="h-8 md:h-10 mr-3" src="https://ristekusdi.github.io/sso-laravel/assets/img/logo.svg" alt="SSO Laravel - RistekUSDI logo" />

                        <h1 class="text-lg md:text-2xl text-blue-900 font-semibold hover:text-blue-600 my-0 pr-4">SSO Laravel - RistekUSDI</h1>
                    </a>
                </div>

                <div class="flex flex-1 justify-end items-center text-right md:pl-10">
                                    </div>
            </div>

                <button class="flex justify-center items-center bg-blue-500 border border-blue-500 h-10 mr-4 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

        </header>

        <main role="main" class="w-full flex-auto">
            <section class="container max-w-8xl mx-auto px-6 md:px-8 py-4">
    <div class="flex flex-col lg:flex-row">
        <nav id="js-nav-menu" class="nav-menu hidden lg:block">
            <ul class="my-0">
            <li class="pl-4">
            
        <a href="https://ristekusdi.github.io/sso-laravel/"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Pendahuluan
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ristekusdi.github.io/sso-laravel/docs/memasang-nilai-env"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Memasang Nilai Env
        </a>
    
    </li>
            <li class="pl-4">
            
        <p class="nav-menu__item text-gray-600">Instalasi &amp; Konfigurasi</p>
    
            
        <ul class="my-0">
            <li class="pl-4">
            
        <a href="https://ristekusdi.github.io/sso-laravel/docs/1-x"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            1.x
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ristekusdi.github.io/sso-laravel/docs/0-3"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            0.3.x
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ristekusdi.github.io/sso-laravel/docs/0-2"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            0.2.x
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ristekusdi.github.io/sso-laravel/docs/0-1"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            0.1.x
        </a>
    
    </li>
    </ul>
    </li>
            <li class="pl-4">
            
        <a href="https://ristekusdi.github.io/sso-laravel/docs/modifikasi-halaman-error"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Modifikasi Halaman Error
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ristekusdi.github.io/sso-laravel/docs/penggunaan-dasar"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Penggunaan Dasar
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ristekusdi.github.io/sso-laravel/docs/data-pengguna"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Data Pengguna
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="https://ristekusdi.github.io/sso-laravel/docs/ssd"
            class="lvl0  active font-semibold text-blue-500 nav-menu__item hover:text-blue-500"
        >
            SSD
        </a>
    
    </li>
    </ul>
        </nav>

        <div class="DocSearch-content w-full lg:w-3/5 break-words pb-16 lg:pl-4" v-pre>
            <h1>Soal Sering Ditanya (SSD)</h1>

<h2>Bagaimana cara mendapatkan access token dan refresh token?</h2>

<p>Ada dua cara untuk mendapatkan access token dan refresh token:</p>

<ol>
<li><p>Mengimpor facade <code>SSOWeb</code> dengan perintah <code>use RistekUSDI\SSO\Facades\SSOWeb;</code>, kemudian jalankan perintah <code>SSOWeb::retrieveToken()</code>.</p></li>
<li><p>Menggunakan session. Gunakan perintah <code>session()-&gt;get('_sso_token.access_token')</code> untuk mendapatkan access token dan <code>session()-&gt;get('_sso_token.refresh_token')</code>.</p></li>
</ol>

<h2>Konfigurasi Tingkat Lanjut</h2>

<h3>Bagaimana cara saya meng-extend User model dengan User model dari RistekUSDI?</h3>

<p>Pada User model extend class User model dari RistekUSDI dengan sintaks berikut.</p>

<pre><code class="language-php">use RistekUSDI\SSO\Models\User as SSOUser;

class User extends SSOUser
{

}
</code></pre>

<p>Berikutnya, pada file <code>auth.php</code> ubah User model seperti berikut.</p>

<pre><code class="language-php">'providers' =&gt; [
    'users' =&gt; [
        'driver' =&gt; 'sso-users',
        'model' =&gt; App\User::class, // sesuaikan dengan lokasi User model Anda.
    ],
],
</code></pre>

<h3>Bagaimana cara menyisipkan atribut lain ke dalam User model?</h3>

<p>Agar Anda bisa menyisipkan atribut lain ke dalam User model maka Anda perlu melakukan proses extend class User model dari RistekUSDI yang ada pada langkah sebelumnya. Setelah itu, Anda bisa menambahkan atribut-atribut lain pada properti <code>$custom_fillable</code>.</p>

<pre><code class="language-php">use RistekUSDI\SSO\Models\User as SSOUser;

class User extends SSOUser
{
    public $custom_fillable = [
        'unud_identifier_id',
        'unud_user_type_id',
        'role_active',
        'role_permissions',
        // dan lain-lain...
    ]
}
</code></pre>

<p>Setelah Anda menambahkan atribut-atribut tersebut maka Anda bisa memanggilnya dengan perintah <code>auth()-&gt;user()</code>. Misal: <code>auth()-&gt;user()-&gt;unud_identifier_id</code>, <code>auth()-&gt;user()-&gt;unud_user_type_id</code>, dan seterusnya.</p>

<h3>Bagaimana cara saya meng-extend WebGuard?</h3>

<p>Anda bisa melakukan extend WebGuard dengan membuat file WebGuard baru dan mengubah nilai <code>guards.web</code> pada file <code>sso.php</code>.</p>

<pre><code class="language-php">/**
 * Load guard class.
 */
'guards' =&gt; [
    // Sebelum...
    'web' =&gt; RistekUSDI\SSO\Auth\Guard\WebGuard::class,

    // Sesudah...
    'web' =&gt; App\Services\Auth\Guard\WebGuard::class,
],
</code></pre>

<p><strong>Catatan:</strong> Extend WebGuard berguna jika Anda ingin menyisipkan session aplikasi Anda ke dalam property user saat berhasil melakukan otentikasi.</p>

<h3>Apakah ada contoh kode untuk Konfigurasi Tingkat Lanjut?</h3>

<p>Anda bisa melihatnya di <a href="https://github.com/ristekusdi/test-sso-laravel">github.com/ristekusdi/test-sso-laravel</a>. Repositori ini menggunakan Laravel 6.x namun bisa digunakan untuk Laravel versi 7 hingga 8.</p>
        </div>
    </div>
</section>
        </main>

        <script src="https://ristekusdi.github.io/sso-laravel/assets/build/js/main.js?id=07c06e86399bc87f6c3c"></script>

        <script>
    const navMenu = {
        toggle() {
            const menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
        },
    }
</script>

        <footer class="bg-white text-center text-sm mt-12 py-4" role="contentinfo">
            <ul class="flex flex-col md:flex-row justify-center">
                <li class="md:mr-2">
                    &copy; <a href="https://tighten.co" title="Tighten website">Tighten</a> 2022.
                </li>

                <li>
                    Built with <a href="http://jigsaw.tighten.co" title="Jigsaw by Tighten">Jigsaw</a>
                    and <a href="https://tailwindcss.com" title="Tailwind CSS, a utility-first CSS framework">Tailwind CSS</a>.
                </li>
            </ul>
        </footer>
    </body>
</html>
